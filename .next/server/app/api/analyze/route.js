"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analyze/route";
exports.ids = ["app/api/analyze/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cahmed%5CDesktop%5CSide%20Projects%5CInvestments%5CMizan%20Inv%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cahmed%5CDesktop%5CSide%20Projects%5CInvestments%5CMizan%20Inv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cahmed%5CDesktop%5CSide%20Projects%5CInvestments%5CMizan%20Inv%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cahmed%5CDesktop%5CSide%20Projects%5CInvestments%5CMizan%20Inv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_ahmed_Desktop_Side_Projects_Investments_Mizan_Inv_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/analyze/route.ts */ \"(rsc)/./app/api/analyze/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analyze/route\",\n        pathname: \"/api/analyze\",\n        filename: \"route\",\n        bundlePath: \"app/api/analyze/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\ahmed\\\\Desktop\\\\Side Projects\\\\Investments\\\\Mizan Inv\\\\app\\\\api\\\\analyze\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_ahmed_Desktop_Side_Projects_Investments_Mizan_Inv_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/analyze/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXplJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXplJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl6ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNhaG1lZCU1Q0Rlc2t0b3AlNUNTaWRlJTIwUHJvamVjdHMlNUNJbnZlc3RtZW50cyU1Q01pemFuJTIwSW52JTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNhaG1lZCU1Q0Rlc2t0b3AlNUNTaWRlJTIwUHJvamVjdHMlNUNJbnZlc3RtZW50cyU1Q01pemFuJTIwSW52JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM2QztBQUMxSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL21pemFuLWludmVzdG1lbnRzLz85YTBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGFobWVkXFxcXERlc2t0b3BcXFxcU2lkZSBQcm9qZWN0c1xcXFxJbnZlc3RtZW50c1xcXFxNaXphbiBJbnZcXFxcYXBwXFxcXGFwaVxcXFxhbmFseXplXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hbmFseXplL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYW5hbHl6ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYW5hbHl6ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGFobWVkXFxcXERlc2t0b3BcXFxcU2lkZSBQcm9qZWN0c1xcXFxJbnZlc3RtZW50c1xcXFxNaXphbiBJbnZcXFxcYXBwXFxcXGFwaVxcXFxhbmFseXplXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hbmFseXplL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cahmed%5CDesktop%5CSide%20Projects%5CInvestments%5CMizan%20Inv%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cahmed%5CDesktop%5CSide%20Projects%5CInvestments%5CMizan%20Inv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/analyze/route.ts":
/*!**********************************!*\
  !*** ./app/api/analyze/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_fmp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/fmp */ \"(rsc)/./lib/fmp.ts\");\n/* harmony import */ var _lib_analysis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/analysis */ \"(rsc)/./lib/analysis.ts\");\n\n\n\nasync function GET(req) {\n    const ticker = req.nextUrl.searchParams.get(\"ticker\");\n    const strategy = req.nextUrl.searchParams.get(\"strategy\") ?? \"Mizan\";\n    if (!ticker) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Missing ticker\"\n        }, {\n            status: 400\n        });\n    }\n    try {\n        const stockData = await (0,_lib_fmp__WEBPACK_IMPORTED_MODULE_1__.fetchStockData)(ticker);\n        const shariahResult = await (0,_lib_analysis__WEBPACK_IMPORTED_MODULE_2__.analyzeShareah)(stockData);\n        const strategyResult = (0,_lib_analysis__WEBPACK_IMPORTED_MODULE_2__.evaluateStrategy)(stockData, strategy);\n        const result = {\n            stockData,\n            shariahResult,\n            strategyResult\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n    } catch (e) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: e.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FuYWx5emUvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF3RDtBQUNiO0FBQ3VCO0FBRzNELGVBQWVJLElBQUlDLEdBQWdCO0lBQ3hDLE1BQU1DLFNBQVNELElBQUlFLE9BQU8sQ0FBQ0MsWUFBWSxDQUFDQyxHQUFHLENBQUM7SUFDNUMsTUFBTUMsV0FBWUwsSUFBSUUsT0FBTyxDQUFDQyxZQUFZLENBQUNDLEdBQUcsQ0FBQyxlQUFlO0lBRTlELElBQUksQ0FBQ0gsUUFBUTtRQUNYLE9BQU9OLHFEQUFZQSxDQUFDVyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFpQixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUN0RTtJQUVBLElBQUk7UUFDRixNQUFNQyxZQUFZLE1BQU1iLHdEQUFjQSxDQUFDSztRQUN2QyxNQUFNUyxnQkFBZ0IsTUFBTWIsNkRBQWNBLENBQUNZO1FBQzNDLE1BQU1FLGlCQUFpQmIsK0RBQWdCQSxDQUFDVyxXQUFXSjtRQUVuRCxNQUFNTyxTQUF5QjtZQUM3Qkg7WUFDQUM7WUFDQUM7UUFDRjtRQUVBLE9BQU9oQixxREFBWUEsQ0FBQ1csSUFBSSxDQUFDTTtJQUMzQixFQUFFLE9BQU9DLEdBQUc7UUFDVixPQUFPbEIscURBQVlBLENBQUNXLElBQUksQ0FDdEI7WUFBRUMsT0FBTyxFQUFhTyxPQUFPO1FBQUMsR0FDOUI7WUFBRU4sUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taXphbi1pbnZlc3RtZW50cy8uL2FwcC9hcGkvYW5hbHl6ZS9yb3V0ZS50cz80NmJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IGZldGNoU3RvY2tEYXRhIH0gZnJvbSBcIkAvbGliL2ZtcFwiO1xuaW1wb3J0IHsgYW5hbHl6ZVNoYXJlYWgsIGV2YWx1YXRlU3RyYXRlZ3kgfSBmcm9tIFwiQC9saWIvYW5hbHlzaXNcIjtcbmltcG9ydCB0eXBlIHsgU3RyYXRlZ3lOYW1lLCBBbmFseXNpc1Jlc3VsdCB9IGZyb20gXCJAL2xpYi90eXBlc1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgdGlja2VyID0gcmVxLm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldChcInRpY2tlclwiKTtcbiAgY29uc3Qgc3RyYXRlZ3kgPSAocmVxLm5leHRVcmwuc2VhcmNoUGFyYW1zLmdldChcInN0cmF0ZWd5XCIpID8/IFwiTWl6YW5cIikgYXMgU3RyYXRlZ3lOYW1lO1xuXG4gIGlmICghdGlja2VyKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiTWlzc2luZyB0aWNrZXJcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBzdG9ja0RhdGEgPSBhd2FpdCBmZXRjaFN0b2NrRGF0YSh0aWNrZXIpO1xuICAgIGNvbnN0IHNoYXJpYWhSZXN1bHQgPSBhd2FpdCBhbmFseXplU2hhcmVhaChzdG9ja0RhdGEpO1xuICAgIGNvbnN0IHN0cmF0ZWd5UmVzdWx0ID0gZXZhbHVhdGVTdHJhdGVneShzdG9ja0RhdGEsIHN0cmF0ZWd5KTtcblxuICAgIGNvbnN0IHJlc3VsdDogQW5hbHlzaXNSZXN1bHQgPSB7XG4gICAgICBzdG9ja0RhdGEsXG4gICAgICBzaGFyaWFoUmVzdWx0LFxuICAgICAgc3RyYXRlZ3lSZXN1bHQsXG4gICAgfTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogKGUgYXMgRXJyb3IpLm1lc3NhZ2UgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJmZXRjaFN0b2NrRGF0YSIsImFuYWx5emVTaGFyZWFoIiwiZXZhbHVhdGVTdHJhdGVneSIsIkdFVCIsInJlcSIsInRpY2tlciIsIm5leHRVcmwiLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJzdHJhdGVneSIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInN0b2NrRGF0YSIsInNoYXJpYWhSZXN1bHQiLCJzdHJhdGVneVJlc3VsdCIsInJlc3VsdCIsImUiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analyze/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/analysis.ts":
/*!*************************!*\
  !*** ./lib/analysis.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeShareah: () => (/* binding */ analyzeShareah),\n/* harmony export */   evaluateStrategy: () => (/* binding */ evaluateStrategy)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(rsc)/./lib/constants.ts\");\n// ============================================================\n// Analyse Engine — Shariah screening + Strategy evaluation\n// Miroir exact de domain/shariah.py + domain/strategies.py\n// ============================================================\n\n// ------------------------------------------------------------------\n//  Shariah Analysis (AAOIFI standards)\n// ------------------------------------------------------------------\nasync function checkBoycott(companyName) {\n    try {\n        const res = await fetch(`${_constants__WEBPACK_IMPORTED_MODULE_0__.BOYCOTT_API_URL}?q=${encodeURIComponent(companyName)}`, {\n            signal: AbortSignal.timeout(3000)\n        });\n        if (!res.ok) return false;\n        const data = await res.json();\n        return Array.isArray(data) && data.length > 0;\n    } catch  {\n        return false;\n    }\n}\nfunction checkBusinessActivity(stock) {\n    const industry = stock.industry.toLowerCase();\n    const sector = stock.sector.toLowerCase();\n    const desc = stock.description.toLowerCase();\n    for (const blacklisted of _constants__WEBPACK_IMPORTED_MODULE_0__.SECTOR_BLACKLIST){\n        if (industry.includes(blacklisted) || sector.includes(blacklisted)) {\n            return {\n                ok: false,\n                issue: `Sector: ${blacklisted}`\n            };\n        }\n    }\n    for (const keyword of _constants__WEBPACK_IMPORTED_MODULE_0__.KEYWORD_BLACKLIST){\n        if (` ${desc} `.includes(` ${keyword} `)) {\n            return {\n                ok: false,\n                issue: `Keyword: ${keyword}`\n            };\n        }\n    }\n    return {\n        ok: true,\n        issue: \"OK\"\n    };\n}\nasync function analyzeShareah(stock) {\n    const failures = [];\n    // 1. Business activity\n    const activity = checkBusinessActivity(stock);\n    if (!activity.ok) failures.push(\"Activity\");\n    // 2. Boycott\n    const isBoycotted = await checkBoycott(stock.name);\n    if (isBoycotted) failures.push(\"Boycott Listed\");\n    // 3. Interest income ratio\n    const interestIncomeRatio = stock.totalRevenue > 0 ? stock.interestIncome / stock.totalRevenue * 100 : 0;\n    if (interestIncomeRatio >= _constants__WEBPACK_IMPORTED_MODULE_0__.SHARIAH.maxInterestIncomeRatio) {\n        failures.push(`Interest > ${_constants__WEBPACK_IMPORTED_MODULE_0__.SHARIAH.maxInterestIncomeRatio}%`);\n    }\n    // 4. Debt ratio\n    const debtRatio = stock.totalAssets > 0 ? stock.totalDebt / stock.totalAssets * 100 : 0;\n    if (debtRatio >= _constants__WEBPACK_IMPORTED_MODULE_0__.SHARIAH.maxDebtRatio) {\n        failures.push(`Debt > ${_constants__WEBPACK_IMPORTED_MODULE_0__.SHARIAH.maxDebtRatio}%`);\n    }\n    // 5. Real assets ratio\n    const illiquidAssetsRatio = stock.totalAssets > 0 ? stock.illiquidAssets / stock.totalAssets * 100 : 0;\n    if (illiquidAssetsRatio <= _constants__WEBPACK_IMPORTED_MODULE_0__.SHARIAH.minRealAssetsRatio) {\n        failures.push(`Real Assets < ${_constants__WEBPACK_IMPORTED_MODULE_0__.SHARIAH.minRealAssetsRatio}%`);\n    }\n    // 6. Liquidity check\n    const isLiquidOk = stock.currentAssets < stock.marketCap;\n    if (!isLiquidOk) failures.push(\"Cash > Cap\");\n    return {\n        interestIncomeRatio,\n        debtRatio,\n        illiquidAssetsRatio,\n        isLiquidOk,\n        isActivityCompliant: activity.ok,\n        activityIssue: activity.issue,\n        isBoycotted,\n        failures,\n        isCompliant: failures.length === 0\n    };\n}\n// ------------------------------------------------------------------\n//  Strategy evaluation\n// ------------------------------------------------------------------\nfunction fmt(v, suffix = \"\") {\n    if (v === null || v === undefined) return \"N/A\";\n    return `${v.toFixed(2)}${suffix}`;\n}\nfunction fmtPct(v) {\n    return `${v.toFixed(1)}%`;\n}\nfunction evaluateMizan(stock) {\n    const cfg = _constants__WEBPACK_IMPORTED_MODULE_0__.STRATEGIES.Mizan;\n    const checks = [];\n    const isGrowth = stock.revenueGrowth > 10;\n    const targetFcf = isGrowth ? cfg.fcfYieldGrowth : cfg.fcfYieldMature;\n    checks.push({\n        name: \"FCF Yield\",\n        value: fmtPct(stock.fcfYield),\n        target: `> ${targetFcf}% (${isGrowth ? \"Growth\" : \"Mature\"})`,\n        passed: stock.fcfYield > targetFcf\n    });\n    const pe = stock.peRatio && stock.peRatio > 0 ? stock.peRatio : 999;\n    checks.push({\n        name: \"P/E\",\n        value: stock.peRatio && stock.peRatio > 0 ? fmt(stock.peRatio) : \"N/A\",\n        target: `< ${cfg.maxPE}`,\n        passed: pe < cfg.maxPE\n    });\n    checks.push({\n        name: \"Op. Margin\",\n        value: fmtPct(stock.operatingMargin),\n        target: `> ${cfg.minMargin}%`,\n        passed: stock.operatingMargin > cfg.minMargin\n    });\n    checks.push({\n        name: \"Net Debt/EBITDA\",\n        value: `${stock.netDebtEbitda.toFixed(2)}x`,\n        target: `< ${cfg.maxNetDebtEbitda}x`,\n        passed: stock.netDebtEbitda < cfg.maxNetDebtEbitda\n    });\n    const passed = checks.filter((c)=>c.passed).length;\n    return {\n        strategyName: \"Mizan\",\n        checks,\n        score: Math.round(passed / checks.length * 100),\n        passedCount: passed,\n        totalCount: checks.length\n    };\n}\nfunction evaluateGraham(stock) {\n    const cfg = _constants__WEBPACK_IMPORTED_MODULE_0__.STRATEGIES.Graham;\n    const checks = [];\n    const pe = stock.peRatio && stock.peRatio > 0 ? stock.peRatio : 999;\n    checks.push({\n        name: \"P/E\",\n        value: stock.peRatio && stock.peRatio > 0 ? fmt(stock.peRatio) : \"N/A\",\n        target: `< ${cfg.maxPE}`,\n        passed: pe < cfg.maxPE\n    });\n    checks.push({\n        name: \"Current Ratio\",\n        value: fmt(stock.currentRatio),\n        target: `> ${cfg.minCurrentRatio}`,\n        passed: stock.currentRatio > cfg.minCurrentRatio\n    });\n    const de = stock.debtToEquity || 999;\n    checks.push({\n        name: \"Debt/Equity\",\n        value: `${de.toFixed(0)}%`,\n        target: `< ${cfg.maxDebtEquity}%`,\n        passed: de < cfg.maxDebtEquity\n    });\n    checks.push({\n        name: \"Interest Coverage\",\n        value: `${stock.interestCoverage.toFixed(1)}x`,\n        target: `> ${cfg.minInterestCoverage}x`,\n        passed: stock.interestCoverage > cfg.minInterestCoverage\n    });\n    checks.push({\n        name: \"ROE\",\n        value: fmtPct(stock.roe),\n        target: `> ${cfg.minROE}%`,\n        passed: stock.roe > cfg.minROE\n    });\n    const passed = checks.filter((c)=>c.passed).length;\n    return {\n        strategyName: \"Graham\",\n        checks,\n        score: Math.round(passed / checks.length * 100),\n        passedCount: passed,\n        totalCount: checks.length\n    };\n}\nfunction evaluateLynch(stock) {\n    const cfg = _constants__WEBPACK_IMPORTED_MODULE_0__.STRATEGIES.Lynch;\n    const checks = [];\n    const peg = stock.pegRatio ?? 999;\n    checks.push({\n        name: \"PEG\",\n        value: stock.pegRatio !== null ? fmt(stock.pegRatio) : \"N/A\",\n        target: `< ${cfg.maxPEG}`,\n        passed: peg < cfg.maxPEG\n    });\n    checks.push({\n        name: \"Revenue Growth\",\n        value: fmtPct(stock.revenueGrowth),\n        target: `> ${cfg.minGrowth}%`,\n        passed: stock.revenueGrowth > cfg.minGrowth\n    });\n    const de = stock.debtToEquity || 999;\n    checks.push({\n        name: \"Debt/Equity\",\n        value: `${de.toFixed(0)}%`,\n        target: `< ${cfg.maxDebtEquity}%`,\n        passed: de < cfg.maxDebtEquity\n    });\n    const pe = stock.peRatio && stock.peRatio > 0 ? stock.peRatio : 999;\n    checks.push({\n        name: \"P/E\",\n        value: stock.peRatio && stock.peRatio > 0 ? fmt(stock.peRatio) : \"N/A\",\n        target: `< ${cfg.maxPE}`,\n        passed: pe < cfg.maxPE\n    });\n    const passed = checks.filter((c)=>c.passed).length;\n    return {\n        strategyName: \"Lynch\",\n        checks,\n        score: Math.round(passed / checks.length * 100),\n        passedCount: passed,\n        totalCount: checks.length\n    };\n}\nfunction evaluateStrategy(stock, strategy) {\n    switch(strategy){\n        case \"Graham\":\n            return evaluateGraham(stock);\n        case \"Lynch\":\n            return evaluateLynch(stock);\n        default:\n            return evaluateMizan(stock);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFjOUU7UUFDdkI7WUFDRSxPQUFPdUMsY0FBY3ZDO0lBQ3pCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taXphbi1pbnZlc3RtZW50cy8uL2xpYi9hbmFseXNpcy50cz9hYzliIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQW5hbHlzZSBFbmdpbmUg4oCUIFNoYXJpYWggc2NyZWVuaW5nICsgU3RyYXRlZ3kgZXZhbHVhdGlvblxuLy8gTWlyb2lyIGV4YWN0IGRlIGRvbWFpbi9zaGFyaWFoLnB5ICsgZG9tYWluL3N0cmF0ZWdpZXMucHlcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5pbXBvcnQgdHlwZSB7XG4gIFN0b2NrRGF0YSxcbiAgU2hhcmlhaFJlc3VsdCxcbiAgU3RyYXRlZ3lSZXN1bHQsXG4gIFN0cmF0ZWd5Q2hlY2tSZXN1bHQsXG4gIFN0cmF0ZWd5TmFtZSxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7XG4gIFNIQVJJQUgsXG4gIFNUUkFURUdJRVMsXG4gIFNFQ1RPUl9CTEFDS0xJU1QsXG4gIEtFWVdPUkRfQkxBQ0tMSVNULFxuICBCT1lDT1RUX0FQSV9VUkwsXG59IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vICBTaGFyaWFoIEFuYWx5c2lzIChBQU9JRkkgc3RhbmRhcmRzKVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmFzeW5jIGZ1bmN0aW9uIGNoZWNrQm95Y290dChjb21wYW55TmFtZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7Qk9ZQ09UVF9BUElfVVJMfT9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbXBhbnlOYW1lKX1gLCB7XG4gICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQoMzAwMCksXG4gICAgfSk7XG4gICAgaWYgKCFyZXMub2spIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkYXRhKSAmJiBkYXRhLmxlbmd0aCA+IDA7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0J1c2luZXNzQWN0aXZpdHkoc3RvY2s6IFN0b2NrRGF0YSk6IHsgb2s6IGJvb2xlYW47IGlzc3VlOiBzdHJpbmcgfSB7XG4gIGNvbnN0IGluZHVzdHJ5ID0gc3RvY2suaW5kdXN0cnkudG9Mb3dlckNhc2UoKTtcbiAgY29uc3Qgc2VjdG9yID0gc3RvY2suc2VjdG9yLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGRlc2MgPSBzdG9jay5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpO1xuXG4gIGZvciAoY29uc3QgYmxhY2tsaXN0ZWQgb2YgU0VDVE9SX0JMQUNLTElTVCkge1xuICAgIGlmIChpbmR1c3RyeS5pbmNsdWRlcyhibGFja2xpc3RlZCkgfHwgc2VjdG9yLmluY2x1ZGVzKGJsYWNrbGlzdGVkKSkge1xuICAgICAgcmV0dXJuIHsgb2s6IGZhbHNlLCBpc3N1ZTogYFNlY3RvcjogJHtibGFja2xpc3RlZH1gIH07XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCBrZXl3b3JkIG9mIEtFWVdPUkRfQkxBQ0tMSVNUKSB7XG4gICAgaWYgKGAgJHtkZXNjfSBgLmluY2x1ZGVzKGAgJHtrZXl3b3JkfSBgKSkge1xuICAgICAgcmV0dXJuIHsgb2s6IGZhbHNlLCBpc3N1ZTogYEtleXdvcmQ6ICR7a2V5d29yZH1gIH07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHsgb2s6IHRydWUsIGlzc3VlOiBcIk9LXCIgfTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFuYWx5emVTaGFyZWFoKHN0b2NrOiBTdG9ja0RhdGEpOiBQcm9taXNlPFNoYXJpYWhSZXN1bHQ+IHtcbiAgY29uc3QgZmFpbHVyZXM6IHN0cmluZ1tdID0gW107XG5cbiAgLy8gMS4gQnVzaW5lc3MgYWN0aXZpdHlcbiAgY29uc3QgYWN0aXZpdHkgPSBjaGVja0J1c2luZXNzQWN0aXZpdHkoc3RvY2spO1xuICBpZiAoIWFjdGl2aXR5Lm9rKSBmYWlsdXJlcy5wdXNoKFwiQWN0aXZpdHlcIik7XG5cbiAgLy8gMi4gQm95Y290dFxuICBjb25zdCBpc0JveWNvdHRlZCA9IGF3YWl0IGNoZWNrQm95Y290dChzdG9jay5uYW1lKTtcbiAgaWYgKGlzQm95Y290dGVkKSBmYWlsdXJlcy5wdXNoKFwiQm95Y290dCBMaXN0ZWRcIik7XG5cbiAgLy8gMy4gSW50ZXJlc3QgaW5jb21lIHJhdGlvXG4gIGNvbnN0IGludGVyZXN0SW5jb21lUmF0aW8gPVxuICAgIHN0b2NrLnRvdGFsUmV2ZW51ZSA+IDAgPyAoc3RvY2suaW50ZXJlc3RJbmNvbWUgLyBzdG9jay50b3RhbFJldmVudWUpICogMTAwIDogMDtcbiAgaWYgKGludGVyZXN0SW5jb21lUmF0aW8gPj0gU0hBUklBSC5tYXhJbnRlcmVzdEluY29tZVJhdGlvKSB7XG4gICAgZmFpbHVyZXMucHVzaChgSW50ZXJlc3QgPiAke1NIQVJJQUgubWF4SW50ZXJlc3RJbmNvbWVSYXRpb30lYCk7XG4gIH1cblxuICAvLyA0LiBEZWJ0IHJhdGlvXG4gIGNvbnN0IGRlYnRSYXRpbyA9XG4gICAgc3RvY2sudG90YWxBc3NldHMgPiAwID8gKHN0b2NrLnRvdGFsRGVidCAvIHN0b2NrLnRvdGFsQXNzZXRzKSAqIDEwMCA6IDA7XG4gIGlmIChkZWJ0UmF0aW8gPj0gU0hBUklBSC5tYXhEZWJ0UmF0aW8pIHtcbiAgICBmYWlsdXJlcy5wdXNoKGBEZWJ0ID4gJHtTSEFSSUFILm1heERlYnRSYXRpb30lYCk7XG4gIH1cblxuICAvLyA1LiBSZWFsIGFzc2V0cyByYXRpb1xuICBjb25zdCBpbGxpcXVpZEFzc2V0c1JhdGlvID1cbiAgICBzdG9jay50b3RhbEFzc2V0cyA+IDAgPyAoc3RvY2suaWxsaXF1aWRBc3NldHMgLyBzdG9jay50b3RhbEFzc2V0cykgKiAxMDAgOiAwO1xuICBpZiAoaWxsaXF1aWRBc3NldHNSYXRpbyA8PSBTSEFSSUFILm1pblJlYWxBc3NldHNSYXRpbykge1xuICAgIGZhaWx1cmVzLnB1c2goYFJlYWwgQXNzZXRzIDwgJHtTSEFSSUFILm1pblJlYWxBc3NldHNSYXRpb30lYCk7XG4gIH1cblxuICAvLyA2LiBMaXF1aWRpdHkgY2hlY2tcbiAgY29uc3QgaXNMaXF1aWRPayA9IHN0b2NrLmN1cnJlbnRBc3NldHMgPCBzdG9jay5tYXJrZXRDYXA7XG4gIGlmICghaXNMaXF1aWRPaykgZmFpbHVyZXMucHVzaChcIkNhc2ggPiBDYXBcIik7XG5cbiAgcmV0dXJuIHtcbiAgICBpbnRlcmVzdEluY29tZVJhdGlvLFxuICAgIGRlYnRSYXRpbyxcbiAgICBpbGxpcXVpZEFzc2V0c1JhdGlvLFxuICAgIGlzTGlxdWlkT2ssXG4gICAgaXNBY3Rpdml0eUNvbXBsaWFudDogYWN0aXZpdHkub2ssXG4gICAgYWN0aXZpdHlJc3N1ZTogYWN0aXZpdHkuaXNzdWUsXG4gICAgaXNCb3ljb3R0ZWQsXG4gICAgZmFpbHVyZXMsXG4gICAgaXNDb21wbGlhbnQ6IGZhaWx1cmVzLmxlbmd0aCA9PT0gMCxcbiAgfTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAgU3RyYXRlZ3kgZXZhbHVhdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIGZtdCh2OiBudW1iZXIgfCBudWxsLCBzdWZmaXggPSBcIlwiKTogc3RyaW5nIHtcbiAgaWYgKHYgPT09IG51bGwgfHwgdiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gXCJOL0FcIjtcbiAgcmV0dXJuIGAke3YudG9GaXhlZCgyKX0ke3N1ZmZpeH1gO1xufVxuXG5mdW5jdGlvbiBmbXRQY3QodjogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIGAke3YudG9GaXhlZCgxKX0lYDtcbn1cblxuZnVuY3Rpb24gZXZhbHVhdGVNaXphbihzdG9jazogU3RvY2tEYXRhKTogU3RyYXRlZ3lSZXN1bHQge1xuICBjb25zdCBjZmcgPSBTVFJBVEVHSUVTLk1pemFuO1xuICBjb25zdCBjaGVja3M6IFN0cmF0ZWd5Q2hlY2tSZXN1bHRbXSA9IFtdO1xuXG4gIGNvbnN0IGlzR3Jvd3RoID0gc3RvY2sucmV2ZW51ZUdyb3d0aCA+IDEwO1xuICBjb25zdCB0YXJnZXRGY2YgPSBpc0dyb3d0aCA/IGNmZy5mY2ZZaWVsZEdyb3d0aCA6IGNmZy5mY2ZZaWVsZE1hdHVyZTtcbiAgY2hlY2tzLnB1c2goe1xuICAgIG5hbWU6IFwiRkNGIFlpZWxkXCIsXG4gICAgdmFsdWU6IGZtdFBjdChzdG9jay5mY2ZZaWVsZCksXG4gICAgdGFyZ2V0OiBgPiAke3RhcmdldEZjZn0lICgke2lzR3Jvd3RoID8gXCJHcm93dGhcIiA6IFwiTWF0dXJlXCJ9KWAsXG4gICAgcGFzc2VkOiBzdG9jay5mY2ZZaWVsZCA+IHRhcmdldEZjZixcbiAgfSk7XG5cbiAgY29uc3QgcGUgPSBzdG9jay5wZVJhdGlvICYmIHN0b2NrLnBlUmF0aW8gPiAwID8gc3RvY2sucGVSYXRpbyA6IDk5OTtcbiAgY2hlY2tzLnB1c2goe1xuICAgIG5hbWU6IFwiUC9FXCIsXG4gICAgdmFsdWU6IHN0b2NrLnBlUmF0aW8gJiYgc3RvY2sucGVSYXRpbyA+IDAgPyBmbXQoc3RvY2sucGVSYXRpbykgOiBcIk4vQVwiLFxuICAgIHRhcmdldDogYDwgJHtjZmcubWF4UEV9YCxcbiAgICBwYXNzZWQ6IHBlIDwgY2ZnLm1heFBFLFxuICB9KTtcblxuICBjaGVja3MucHVzaCh7XG4gICAgbmFtZTogXCJPcC4gTWFyZ2luXCIsXG4gICAgdmFsdWU6IGZtdFBjdChzdG9jay5vcGVyYXRpbmdNYXJnaW4pLFxuICAgIHRhcmdldDogYD4gJHtjZmcubWluTWFyZ2lufSVgLFxuICAgIHBhc3NlZDogc3RvY2sub3BlcmF0aW5nTWFyZ2luID4gY2ZnLm1pbk1hcmdpbixcbiAgfSk7XG5cbiAgY2hlY2tzLnB1c2goe1xuICAgIG5hbWU6IFwiTmV0IERlYnQvRUJJVERBXCIsXG4gICAgdmFsdWU6IGAke3N0b2NrLm5ldERlYnRFYml0ZGEudG9GaXhlZCgyKX14YCxcbiAgICB0YXJnZXQ6IGA8ICR7Y2ZnLm1heE5ldERlYnRFYml0ZGF9eGAsXG4gICAgcGFzc2VkOiBzdG9jay5uZXREZWJ0RWJpdGRhIDwgY2ZnLm1heE5ldERlYnRFYml0ZGEsXG4gIH0pO1xuXG4gIGNvbnN0IHBhc3NlZCA9IGNoZWNrcy5maWx0ZXIoKGMpID0+IGMucGFzc2VkKS5sZW5ndGg7XG4gIHJldHVybiB7XG4gICAgc3RyYXRlZ3lOYW1lOiBcIk1pemFuXCIsXG4gICAgY2hlY2tzLFxuICAgIHNjb3JlOiBNYXRoLnJvdW5kKChwYXNzZWQgLyBjaGVja3MubGVuZ3RoKSAqIDEwMCksXG4gICAgcGFzc2VkQ291bnQ6IHBhc3NlZCxcbiAgICB0b3RhbENvdW50OiBjaGVja3MubGVuZ3RoLFxuICB9O1xufVxuXG5mdW5jdGlvbiBldmFsdWF0ZUdyYWhhbShzdG9jazogU3RvY2tEYXRhKTogU3RyYXRlZ3lSZXN1bHQge1xuICBjb25zdCBjZmcgPSBTVFJBVEVHSUVTLkdyYWhhbTtcbiAgY29uc3QgY2hlY2tzOiBTdHJhdGVneUNoZWNrUmVzdWx0W10gPSBbXTtcblxuICBjb25zdCBwZSA9IHN0b2NrLnBlUmF0aW8gJiYgc3RvY2sucGVSYXRpbyA+IDAgPyBzdG9jay5wZVJhdGlvIDogOTk5O1xuICBjaGVja3MucHVzaCh7XG4gICAgbmFtZTogXCJQL0VcIixcbiAgICB2YWx1ZTogc3RvY2sucGVSYXRpbyAmJiBzdG9jay5wZVJhdGlvID4gMCA/IGZtdChzdG9jay5wZVJhdGlvKSA6IFwiTi9BXCIsXG4gICAgdGFyZ2V0OiBgPCAke2NmZy5tYXhQRX1gLFxuICAgIHBhc3NlZDogcGUgPCBjZmcubWF4UEUsXG4gIH0pO1xuXG4gIGNoZWNrcy5wdXNoKHtcbiAgICBuYW1lOiBcIkN1cnJlbnQgUmF0aW9cIixcbiAgICB2YWx1ZTogZm10KHN0b2NrLmN1cnJlbnRSYXRpbyksXG4gICAgdGFyZ2V0OiBgPiAke2NmZy5taW5DdXJyZW50UmF0aW99YCxcbiAgICBwYXNzZWQ6IHN0b2NrLmN1cnJlbnRSYXRpbyA+IGNmZy5taW5DdXJyZW50UmF0aW8sXG4gIH0pO1xuXG4gIGNvbnN0IGRlID0gc3RvY2suZGVidFRvRXF1aXR5IHx8IDk5OTtcbiAgY2hlY2tzLnB1c2goe1xuICAgIG5hbWU6IFwiRGVidC9FcXVpdHlcIixcbiAgICB2YWx1ZTogYCR7ZGUudG9GaXhlZCgwKX0lYCxcbiAgICB0YXJnZXQ6IGA8ICR7Y2ZnLm1heERlYnRFcXVpdHl9JWAsXG4gICAgcGFzc2VkOiBkZSA8IGNmZy5tYXhEZWJ0RXF1aXR5LFxuICB9KTtcblxuICBjaGVja3MucHVzaCh7XG4gICAgbmFtZTogXCJJbnRlcmVzdCBDb3ZlcmFnZVwiLFxuICAgIHZhbHVlOiBgJHtzdG9jay5pbnRlcmVzdENvdmVyYWdlLnRvRml4ZWQoMSl9eGAsXG4gICAgdGFyZ2V0OiBgPiAke2NmZy5taW5JbnRlcmVzdENvdmVyYWdlfXhgLFxuICAgIHBhc3NlZDogc3RvY2suaW50ZXJlc3RDb3ZlcmFnZSA+IGNmZy5taW5JbnRlcmVzdENvdmVyYWdlLFxuICB9KTtcblxuICBjaGVja3MucHVzaCh7XG4gICAgbmFtZTogXCJST0VcIixcbiAgICB2YWx1ZTogZm10UGN0KHN0b2NrLnJvZSksXG4gICAgdGFyZ2V0OiBgPiAke2NmZy5taW5ST0V9JWAsXG4gICAgcGFzc2VkOiBzdG9jay5yb2UgPiBjZmcubWluUk9FLFxuICB9KTtcblxuICBjb25zdCBwYXNzZWQgPSBjaGVja3MuZmlsdGVyKChjKSA9PiBjLnBhc3NlZCkubGVuZ3RoO1xuICByZXR1cm4ge1xuICAgIHN0cmF0ZWd5TmFtZTogXCJHcmFoYW1cIixcbiAgICBjaGVja3MsXG4gICAgc2NvcmU6IE1hdGgucm91bmQoKHBhc3NlZCAvIGNoZWNrcy5sZW5ndGgpICogMTAwKSxcbiAgICBwYXNzZWRDb3VudDogcGFzc2VkLFxuICAgIHRvdGFsQ291bnQ6IGNoZWNrcy5sZW5ndGgsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGV2YWx1YXRlTHluY2goc3RvY2s6IFN0b2NrRGF0YSk6IFN0cmF0ZWd5UmVzdWx0IHtcbiAgY29uc3QgY2ZnID0gU1RSQVRFR0lFUy5MeW5jaDtcbiAgY29uc3QgY2hlY2tzOiBTdHJhdGVneUNoZWNrUmVzdWx0W10gPSBbXTtcblxuICBjb25zdCBwZWcgPSBzdG9jay5wZWdSYXRpbyA/PyA5OTk7XG4gIGNoZWNrcy5wdXNoKHtcbiAgICBuYW1lOiBcIlBFR1wiLFxuICAgIHZhbHVlOiBzdG9jay5wZWdSYXRpbyAhPT0gbnVsbCA/IGZtdChzdG9jay5wZWdSYXRpbykgOiBcIk4vQVwiLFxuICAgIHRhcmdldDogYDwgJHtjZmcubWF4UEVHfWAsXG4gICAgcGFzc2VkOiBwZWcgPCBjZmcubWF4UEVHLFxuICB9KTtcblxuICBjaGVja3MucHVzaCh7XG4gICAgbmFtZTogXCJSZXZlbnVlIEdyb3d0aFwiLFxuICAgIHZhbHVlOiBmbXRQY3Qoc3RvY2sucmV2ZW51ZUdyb3d0aCksXG4gICAgdGFyZ2V0OiBgPiAke2NmZy5taW5Hcm93dGh9JWAsXG4gICAgcGFzc2VkOiBzdG9jay5yZXZlbnVlR3Jvd3RoID4gY2ZnLm1pbkdyb3d0aCxcbiAgfSk7XG5cbiAgY29uc3QgZGUgPSBzdG9jay5kZWJ0VG9FcXVpdHkgfHwgOTk5O1xuICBjaGVja3MucHVzaCh7XG4gICAgbmFtZTogXCJEZWJ0L0VxdWl0eVwiLFxuICAgIHZhbHVlOiBgJHtkZS50b0ZpeGVkKDApfSVgLFxuICAgIHRhcmdldDogYDwgJHtjZmcubWF4RGVidEVxdWl0eX0lYCxcbiAgICBwYXNzZWQ6IGRlIDwgY2ZnLm1heERlYnRFcXVpdHksXG4gIH0pO1xuXG4gIGNvbnN0IHBlID0gc3RvY2sucGVSYXRpbyAmJiBzdG9jay5wZVJhdGlvID4gMCA/IHN0b2NrLnBlUmF0aW8gOiA5OTk7XG4gIGNoZWNrcy5wdXNoKHtcbiAgICBuYW1lOiBcIlAvRVwiLFxuICAgIHZhbHVlOiBzdG9jay5wZVJhdGlvICYmIHN0b2NrLnBlUmF0aW8gPiAwID8gZm10KHN0b2NrLnBlUmF0aW8pIDogXCJOL0FcIixcbiAgICB0YXJnZXQ6IGA8ICR7Y2ZnLm1heFBFfWAsXG4gICAgcGFzc2VkOiBwZSA8IGNmZy5tYXhQRSxcbiAgfSk7XG5cbiAgY29uc3QgcGFzc2VkID0gY2hlY2tzLmZpbHRlcigoYykgPT4gYy5wYXNzZWQpLmxlbmd0aDtcbiAgcmV0dXJuIHtcbiAgICBzdHJhdGVneU5hbWU6IFwiTHluY2hcIixcbiAgICBjaGVja3MsXG4gICAgc2NvcmU6IE1hdGgucm91bmQoKHBhc3NlZCAvIGNoZWNrcy5sZW5ndGgpICogMTAwKSxcbiAgICBwYXNzZWRDb3VudDogcGFzc2VkLFxuICAgIHRvdGFsQ291bnQ6IGNoZWNrcy5sZW5ndGgsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBldmFsdWF0ZVN0cmF0ZWd5KHN0b2NrOiBTdG9ja0RhdGEsIHN0cmF0ZWd5OiBTdHJhdGVneU5hbWUpOiBTdHJhdGVneVJlc3VsdCB7XG4gIHN3aXRjaCAoc3RyYXRlZ3kpIHtcbiAgICBjYXNlIFwiR3JhaGFtXCI6XG4gICAgICByZXR1cm4gZXZhbHVhdGVHcmFoYW0oc3RvY2spO1xuICAgIGNhc2UgXCJMeW5jaFwiOlxuICAgICAgcmV0dXJuIGV2YWx1YXRlTHluY2goc3RvY2spO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZXZhbHVhdGVNaXphbihzdG9jayk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJTSEFSSUFIIiwiU1RSQVRFR0lFUyIsIlNFQ1RPUl9CTEFDS0xJU1QiLCJLRVlXT1JEX0JMQUNLTElTVCIsIkJPWUNPVFRfQVBJX1VSTCIsImNoZWNrQm95Y290dCIsImNvbXBhbnlOYW1lIiwicmVzIiwiZmV0Y2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJzaWduYWwiLCJBYm9ydFNpZ25hbCIsInRpbWVvdXQiLCJvayIsImRhdGEiLCJqc29uIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiY2hlY2tCdXNpbmVzc0FjdGl2aXR5Iiwic3RvY2siLCJpbmR1c3RyeSIsInRvTG93ZXJDYXNlIiwic2VjdG9yIiwiZGVzYyIsImRlc2NyaXB0aW9uIiwiYmxhY2tsaXN0ZWQiLCJpbmNsdWRlcyIsImlzc3VlIiwia2V5d29yZCIsImFuYWx5emVTaGFyZWFoIiwiZmFpbHVyZXMiLCJhY3Rpdml0eSIsInB1c2giLCJpc0JveWNvdHRlZCIsIm5hbWUiLCJpbnRlcmVzdEluY29tZVJhdGlvIiwidG90YWxSZXZlbnVlIiwiaW50ZXJlc3RJbmNvbWUiLCJtYXhJbnRlcmVzdEluY29tZVJhdGlvIiwiZGVidFJhdGlvIiwidG90YWxBc3NldHMiLCJ0b3RhbERlYnQiLCJtYXhEZWJ0UmF0aW8iLCJpbGxpcXVpZEFzc2V0c1JhdGlvIiwiaWxsaXF1aWRBc3NldHMiLCJtaW5SZWFsQXNzZXRzUmF0aW8iLCJpc0xpcXVpZE9rIiwiY3VycmVudEFzc2V0cyIsIm1hcmtldENhcCIsImlzQWN0aXZpdHlDb21wbGlhbnQiLCJhY3Rpdml0eUlzc3VlIiwiaXNDb21wbGlhbnQiLCJmbXQiLCJ2Iiwic3VmZml4IiwidW5kZWZpbmVkIiwidG9GaXhlZCIsImZtdFBjdCIsImV2YWx1YXRlTWl6YW4iLCJjZmciLCJNaXphbiIsImNoZWNrcyIsImlzR3Jvd3RoIiwicmV2ZW51ZUdyb3d0aCIsInRhcmdldEZjZiIsImZjZllpZWxkR3Jvd3RoIiwiZmNmWWllbGRNYXR1cmUiLCJ2YWx1ZSIsImZjZllpZWxkIiwidGFyZ2V0IiwicGFzc2VkIiwicGUiLCJwZVJhdGlvIiwibWF4UEUiLCJvcGVyYXRpbmdNYXJnaW4iLCJtaW5NYXJnaW4iLCJuZXREZWJ0RWJpdGRhIiwibWF4TmV0RGVidEViaXRkYSIsImZpbHRlciIsImMiLCJzdHJhdGVneU5hbWUiLCJzY29yZSIsIk1hdGgiLCJyb3VuZCIsInBhc3NlZENvdW50IiwidG90YWxDb3VudCIsImV2YWx1YXRlR3JhaGFtIiwiR3JhaGFtIiwiY3VycmVudFJhdGlvIiwibWluQ3VycmVudFJhdGlvIiwiZGUiLCJkZWJ0VG9FcXVpdHkiLCJtYXhEZWJ0RXF1aXR5IiwiaW50ZXJlc3RDb3ZlcmFnZSIsIm1pbkludGVyZXN0Q292ZXJhZ2UiLCJyb2UiLCJtaW5ST0UiLCJldmFsdWF0ZUx5bmNoIiwiTHluY2giLCJwZWciLCJwZWdSYXRpbyIsIm1heFBFRyIsIm1pbkdyb3d0aCIsImV2YWx1YXRlU3RyYXRlZ3kiLCJzdHJhdGVneSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/analysis.ts\n");

/***/ }),

/***/ "(rsc)/./lib/constants.ts":
/*!**************************!*\
  !*** ./lib/constants.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APP: () => (/* binding */ APP),\n/* harmony export */   BOYCOTT_API_URL: () => (/* binding */ BOYCOTT_API_URL),\n/* harmony export */   FMP_BASE_URL: () => (/* binding */ FMP_BASE_URL),\n/* harmony export */   FREE_EXCHANGES: () => (/* binding */ FREE_EXCHANGES),\n/* harmony export */   KEYWORD_BLACKLIST: () => (/* binding */ KEYWORD_BLACKLIST),\n/* harmony export */   SECTOR_BLACKLIST: () => (/* binding */ SECTOR_BLACKLIST),\n/* harmony export */   SHARIAH: () => (/* binding */ SHARIAH),\n/* harmony export */   STRATEGIES: () => (/* binding */ STRATEGIES)\n/* harmony export */ });\n// ============================================================\n// Configuration — miroir de config/settings.py\n// ============================================================\nconst APP = {\n    name: \"Mizan Investments\",\n    icon: \"⚖️\",\n    version: \"3.0.0\"\n};\n// Seuils Shariah (AAOIFI)\nconst SHARIAH = {\n    maxDebtRatio: 33.0,\n    maxInterestIncomeRatio: 5.0,\n    minRealAssetsRatio: 20.0\n};\n// Seuils stratégies\nconst STRATEGIES = {\n    Mizan: {\n        label: \"Mizan Strategy\",\n        subtitle: \"Quality Growth\",\n        description: \"Focus on sustainable quality at reasonable prices\",\n        maxPE: 25.0,\n        minMargin: 15.0,\n        maxNetDebtEbitda: 3.0,\n        fcfYieldGrowth: 2.5,\n        fcfYieldMature: 5.0\n    },\n    Graham: {\n        label: \"Ben Graham\",\n        subtitle: \"Modern Value\",\n        description: \"Margin of safety with quality focus\",\n        maxPE: 15.0,\n        minCurrentRatio: 1.5,\n        maxDebtEquity: 50.0,\n        minInterestCoverage: 3.0,\n        minROE: 8.0\n    },\n    Lynch: {\n        label: \"Peter Lynch\",\n        subtitle: \"Growth\",\n        description: \"GARP — Growth at Reasonable Price\",\n        maxPEG: 1.0,\n        minGrowth: 15.0,\n        maxDebtEquity: 80.0,\n        maxPE: 25.0\n    }\n};\n// Secteurs blacklistés\nconst SECTOR_BLACKLIST = new Set([\n    \"banks\",\n    \"insurance\",\n    \"capital markets\",\n    \"credit services\",\n    \"mortgage\",\n    \"beverages - wineries & distilleries\",\n    \"beverages - brewers\",\n    \"tobacco\",\n    \"gambling\",\n    \"casinos\",\n    \"defense\",\n    \"adult entertainment\"\n]);\n// Mots-clés blacklistés\nconst KEYWORD_BLACKLIST = new Set([\n    \"alcohol\",\n    \"liquor\",\n    \"wine\",\n    \"beer\",\n    \"brewery\",\n    \"pork\",\n    \"gambling\",\n    \"casino\",\n    \"betting\",\n    \"tobacco\",\n    \"adult entertainment\",\n    \"pornography\"\n]);\n// Exchanges gratuits FMP\nconst FREE_EXCHANGES = new Set([\n    \"NASDAQ\",\n    \"NYSE\",\n    \"AMEX\"\n]);\n// API\nconst FMP_BASE_URL = \"https://financialmodelingprep.com\";\nconst BOYCOTT_API_URL = \"https://api.boycottisraeli.biz/v1/search\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY29uc3RhbnRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsK0RBQStEO0FBQy9ELCtDQUErQztBQUMvQywrREFBK0Q7QUFFeEQsTUFBTUEsTUFBTTtJQUNqQkMsTUFBTTtJQUNOQyxNQUFNO0lBQ05DLFNBQVM7QUFDWCxFQUFXO0FBRVgsMEJBQTBCO0FBQ25CLE1BQU1DLFVBQVU7SUFDckJDLGNBQWM7SUFDZEMsd0JBQXdCO0lBQ3hCQyxvQkFBb0I7QUFDdEIsRUFBVztBQUVYLG9CQUFvQjtBQUNiLE1BQU1DLGFBQWE7SUFDeEJDLE9BQU87UUFDTEMsT0FBTztRQUNQQyxVQUFVO1FBQ1ZDLGFBQWE7UUFDYkMsT0FBTztRQUNQQyxXQUFXO1FBQ1hDLGtCQUFrQjtRQUNsQkMsZ0JBQWdCO1FBQ2hCQyxnQkFBZ0I7SUFDbEI7SUFDQUMsUUFBUTtRQUNOUixPQUFPO1FBQ1BDLFVBQVU7UUFDVkMsYUFBYTtRQUNiQyxPQUFPO1FBQ1BNLGlCQUFpQjtRQUNqQkMsZUFBZTtRQUNmQyxxQkFBcUI7UUFDckJDLFFBQVE7SUFDVjtJQUNBQyxPQUFPO1FBQ0xiLE9BQU87UUFDUEMsVUFBVTtRQUNWQyxhQUFhO1FBQ2JZLFFBQVE7UUFDUkMsV0FBVztRQUNYTCxlQUFlO1FBQ2ZQLE9BQU87SUFDVDtBQUNGLEVBQVc7QUFFWCx1QkFBdUI7QUFDaEIsTUFBTWEsbUJBQW1CLElBQUlDLElBQUk7SUFDdEM7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0QsRUFBRTtBQUVILHdCQUF3QjtBQUNqQixNQUFNQyxvQkFBb0IsSUFBSUQsSUFBSTtJQUN2QztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDRCxFQUFFO0FBRUgseUJBQXlCO0FBQ2xCLE1BQU1FLGlCQUFpQixJQUFJRixJQUFJO0lBQUM7SUFBVTtJQUFRO0NBQU8sRUFBRTtBQUVsRSxNQUFNO0FBQ0MsTUFBTUcsZUFBZSxvQ0FBb0M7QUFDekQsTUFBTUMsa0JBQWtCLDJDQUEyQyIsInNvdXJjZXMiOlsid2VicGFjazovL21pemFuLWludmVzdG1lbnRzLy4vbGliL2NvbnN0YW50cy50cz8wNzhlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ29uZmlndXJhdGlvbiDigJQgbWlyb2lyIGRlIGNvbmZpZy9zZXR0aW5ncy5weVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCBBUFAgPSB7XG4gIG5hbWU6IFwiTWl6YW4gSW52ZXN0bWVudHNcIixcbiAgaWNvbjogXCLimpbvuI9cIixcbiAgdmVyc2lvbjogXCIzLjAuMFwiLFxufSBhcyBjb25zdDtcblxuLy8gU2V1aWxzIFNoYXJpYWggKEFBT0lGSSlcbmV4cG9ydCBjb25zdCBTSEFSSUFIID0ge1xuICBtYXhEZWJ0UmF0aW86IDMzLjAsXG4gIG1heEludGVyZXN0SW5jb21lUmF0aW86IDUuMCxcbiAgbWluUmVhbEFzc2V0c1JhdGlvOiAyMC4wLFxufSBhcyBjb25zdDtcblxuLy8gU2V1aWxzIHN0cmF0w6lnaWVzXG5leHBvcnQgY29uc3QgU1RSQVRFR0lFUyA9IHtcbiAgTWl6YW46IHtcbiAgICBsYWJlbDogXCJNaXphbiBTdHJhdGVneVwiLFxuICAgIHN1YnRpdGxlOiBcIlF1YWxpdHkgR3Jvd3RoXCIsXG4gICAgZGVzY3JpcHRpb246IFwiRm9jdXMgb24gc3VzdGFpbmFibGUgcXVhbGl0eSBhdCByZWFzb25hYmxlIHByaWNlc1wiLFxuICAgIG1heFBFOiAyNS4wLFxuICAgIG1pbk1hcmdpbjogMTUuMCxcbiAgICBtYXhOZXREZWJ0RWJpdGRhOiAzLjAsXG4gICAgZmNmWWllbGRHcm93dGg6IDIuNSxcbiAgICBmY2ZZaWVsZE1hdHVyZTogNS4wLFxuICB9LFxuICBHcmFoYW06IHtcbiAgICBsYWJlbDogXCJCZW4gR3JhaGFtXCIsXG4gICAgc3VidGl0bGU6IFwiTW9kZXJuIFZhbHVlXCIsXG4gICAgZGVzY3JpcHRpb246IFwiTWFyZ2luIG9mIHNhZmV0eSB3aXRoIHF1YWxpdHkgZm9jdXNcIixcbiAgICBtYXhQRTogMTUuMCxcbiAgICBtaW5DdXJyZW50UmF0aW86IDEuNSxcbiAgICBtYXhEZWJ0RXF1aXR5OiA1MC4wLFxuICAgIG1pbkludGVyZXN0Q292ZXJhZ2U6IDMuMCxcbiAgICBtaW5ST0U6IDguMCxcbiAgfSxcbiAgTHluY2g6IHtcbiAgICBsYWJlbDogXCJQZXRlciBMeW5jaFwiLFxuICAgIHN1YnRpdGxlOiBcIkdyb3d0aFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkdBUlAg4oCUIEdyb3d0aCBhdCBSZWFzb25hYmxlIFByaWNlXCIsXG4gICAgbWF4UEVHOiAxLjAsXG4gICAgbWluR3Jvd3RoOiAxNS4wLFxuICAgIG1heERlYnRFcXVpdHk6IDgwLjAsXG4gICAgbWF4UEU6IDI1LjAsXG4gIH0sXG59IGFzIGNvbnN0O1xuXG4vLyBTZWN0ZXVycyBibGFja2xpc3TDqXNcbmV4cG9ydCBjb25zdCBTRUNUT1JfQkxBQ0tMSVNUID0gbmV3IFNldChbXG4gIFwiYmFua3NcIixcbiAgXCJpbnN1cmFuY2VcIixcbiAgXCJjYXBpdGFsIG1hcmtldHNcIixcbiAgXCJjcmVkaXQgc2VydmljZXNcIixcbiAgXCJtb3J0Z2FnZVwiLFxuICBcImJldmVyYWdlcyAtIHdpbmVyaWVzICYgZGlzdGlsbGVyaWVzXCIsXG4gIFwiYmV2ZXJhZ2VzIC0gYnJld2Vyc1wiLFxuICBcInRvYmFjY29cIixcbiAgXCJnYW1ibGluZ1wiLFxuICBcImNhc2lub3NcIixcbiAgXCJkZWZlbnNlXCIsXG4gIFwiYWR1bHQgZW50ZXJ0YWlubWVudFwiLFxuXSk7XG5cbi8vIE1vdHMtY2zDqXMgYmxhY2tsaXN0w6lzXG5leHBvcnQgY29uc3QgS0VZV09SRF9CTEFDS0xJU1QgPSBuZXcgU2V0KFtcbiAgXCJhbGNvaG9sXCIsXG4gIFwibGlxdW9yXCIsXG4gIFwid2luZVwiLFxuICBcImJlZXJcIixcbiAgXCJicmV3ZXJ5XCIsXG4gIFwicG9ya1wiLFxuICBcImdhbWJsaW5nXCIsXG4gIFwiY2FzaW5vXCIsXG4gIFwiYmV0dGluZ1wiLFxuICBcInRvYmFjY29cIixcbiAgXCJhZHVsdCBlbnRlcnRhaW5tZW50XCIsXG4gIFwicG9ybm9ncmFwaHlcIixcbl0pO1xuXG4vLyBFeGNoYW5nZXMgZ3JhdHVpdHMgRk1QXG5leHBvcnQgY29uc3QgRlJFRV9FWENIQU5HRVMgPSBuZXcgU2V0KFtcIk5BU0RBUVwiLCBcIk5ZU0VcIiwgXCJBTUVYXCJdKTtcblxuLy8gQVBJXG5leHBvcnQgY29uc3QgRk1QX0JBU0VfVVJMID0gXCJodHRwczovL2ZpbmFuY2lhbG1vZGVsaW5ncHJlcC5jb21cIjtcbmV4cG9ydCBjb25zdCBCT1lDT1RUX0FQSV9VUkwgPSBcImh0dHBzOi8vYXBpLmJveWNvdHRpc3JhZWxpLmJpei92MS9zZWFyY2hcIjtcbiJdLCJuYW1lcyI6WyJBUFAiLCJuYW1lIiwiaWNvbiIsInZlcnNpb24iLCJTSEFSSUFIIiwibWF4RGVidFJhdGlvIiwibWF4SW50ZXJlc3RJbmNvbWVSYXRpbyIsIm1pblJlYWxBc3NldHNSYXRpbyIsIlNUUkFURUdJRVMiLCJNaXphbiIsImxhYmVsIiwic3VidGl0bGUiLCJkZXNjcmlwdGlvbiIsIm1heFBFIiwibWluTWFyZ2luIiwibWF4TmV0RGVidEViaXRkYSIsImZjZllpZWxkR3Jvd3RoIiwiZmNmWWllbGRNYXR1cmUiLCJHcmFoYW0iLCJtaW5DdXJyZW50UmF0aW8iLCJtYXhEZWJ0RXF1aXR5IiwibWluSW50ZXJlc3RDb3ZlcmFnZSIsIm1pblJPRSIsIkx5bmNoIiwibWF4UEVHIiwibWluR3Jvd3RoIiwiU0VDVE9SX0JMQUNLTElTVCIsIlNldCIsIktFWVdPUkRfQkxBQ0tMSVNUIiwiRlJFRV9FWENIQU5HRVMiLCJGTVBfQkFTRV9VUkwiLCJCT1lDT1RUX0FQSV9VUkwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/constants.ts\n");

/***/ }),

/***/ "(rsc)/./lib/fmp.ts":
/*!********************!*\
  !*** ./lib/fmp.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchPriceHistory: () => (/* binding */ fetchPriceHistory),\n/* harmony export */   fetchStockData: () => (/* binding */ fetchStockData),\n/* harmony export */   searchSymbols: () => (/* binding */ searchSymbols)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(rsc)/./lib/constants.ts\");\n// ============================================================\n// FMP Client — Server-side only (API key never exposed)\n// Miroir de services/market_data.py\n// ============================================================\n\nconst API_KEY = process.env.FMP_API_KEY ?? \"\";\nasync function fmpGet(endpoint, params = {}) {\n    const url = new URL(`${_constants__WEBPACK_IMPORTED_MODULE_0__.FMP_BASE_URL}${endpoint}`);\n    url.searchParams.set(\"apikey\", API_KEY);\n    for (const [k, v] of Object.entries(params)){\n        url.searchParams.set(k, v);\n    }\n    const res = await fetch(url.toString(), {\n        next: {\n            revalidate: 300\n        }\n    });\n    if (!res.ok) {\n        throw new Error(`FMP ${res.status}: ${res.statusText} — ${endpoint}`);\n    }\n    const data = await res.json();\n    if (data && typeof data === \"object\" && \"Error Message\" in data) {\n        throw new Error(data[\"Error Message\"]);\n    }\n    return data;\n}\nfunction safe(value, fallback = 0) {\n    if (value === null || value === undefined) return fallback;\n    const n = Number(value);\n    return isNaN(n) ? fallback : n;\n}\n// ------------------------------------------------------------------\n//  Récupérer les données complètes d'une action\n// ------------------------------------------------------------------\nasync function fetchStockData(ticker) {\n    const symbol = ticker.toUpperCase();\n    // 5 requêtes parallèles (endpoints gratuits)\n    const [profileArr, incomeArr, balanceArr, cashflowArr] = await Promise.all([\n        fmpGet(\"/stable/profile\", {\n            symbol\n        }),\n        fmpGet(\"/stable/income-statement\", {\n            symbol,\n            period: \"annual\",\n            limit: \"2\"\n        }),\n        fmpGet(\"/stable/balance-sheet-statement\", {\n            symbol,\n            period: \"annual\",\n            limit: \"1\"\n        }),\n        fmpGet(\"/stable/cash-flow-statement\", {\n            symbol,\n            period: \"annual\",\n            limit: \"1\"\n        })\n    ]);\n    const p = Array.isArray(profileArr) && profileArr.length > 0 ? profileArr[0] : {};\n    const income = Array.isArray(incomeArr) && incomeArr.length > 0 ? incomeArr[0] : {};\n    const balance = Array.isArray(balanceArr) && balanceArr.length > 0 ? balanceArr[0] : {};\n    const cashflow = Array.isArray(cashflowArr) && cashflowArr.length > 0 ? cashflowArr[0] : {};\n    const name = p.companyName || symbol;\n    if (!name) throw new Error(`No data for ${symbol}`);\n    let marketCap = safe(p.marketCap ?? p.mktCap, 1);\n    if (marketCap <= 0) marketCap = 1;\n    const price = safe(p.price);\n    const sharesOut = price > 0 ? marketCap / price : 0;\n    // Income statement\n    const totalRevenue = safe(income.revenue);\n    const netIncome = safe(income.netIncome);\n    const operatingIncomeVal = safe(income.operatingIncome);\n    const ebitda = safe(income.ebitda);\n    const interestExpense = Math.abs(safe(income.interestExpense));\n    const interestIncome = safe(income.interestIncome);\n    const epsFromIncome = safe(income.eps ?? income.epsdiluted ?? income.epsDiluted);\n    // Balance sheet\n    let totalAssets = safe(balance.totalAssets, 1);\n    if (totalAssets <= 0) totalAssets = 1;\n    const totalDebt = safe(balance.totalDebt);\n    const cash = safe(balance.cashAndCashEquivalents);\n    const totalEquity = safe(balance.totalStockholdersEquity);\n    const totalCurrentAssets = safe(balance.totalCurrentAssets);\n    const totalCurrentLiabilities = safe(balance.totalCurrentLiabilities);\n    // Illiquid assets\n    const ppe = safe(balance.propertyPlantEquipmentNet);\n    const goodwill = safe(balance.goodwill);\n    const intangibles = safe(balance.intangibleAssets);\n    const inventory = safe(balance.inventory);\n    let illiquidAssets = ppe + goodwill + intangibles + inventory;\n    if (illiquidAssets === 0 && totalCurrentAssets > 0) {\n        illiquidAssets = totalAssets - totalCurrentAssets;\n    }\n    // Cash flow\n    const fcf = safe(cashflow.freeCashFlow);\n    // ============================================================\n    //  RATIOS (calculés manuellement — pas d'endpoints payants)\n    // ============================================================\n    const peRatio = epsFromIncome > 0 ? price / epsFromIncome : null;\n    const bvps = sharesOut > 0 ? totalEquity / sharesOut : 0;\n    const pbRatio = bvps > 0 ? price / bvps : null;\n    // EPS: profil d'abord, puis income statement\n    const epsFromProfile = safe(p.eps);\n    let eps = epsFromProfile !== 0 ? epsFromProfile : epsFromIncome;\n    if (!eps && sharesOut > 0) eps = netIncome / sharesOut;\n    const roe = totalEquity > 0 ? netIncome / totalEquity * 100 : 0;\n    const operatingMargin = totalRevenue > 0 ? operatingIncomeVal / totalRevenue * 100 : 0;\n    const fcfYield = marketCap > 0 ? fcf / marketCap * 100 : 0;\n    const currentRatio = totalCurrentLiabilities > 0 ? totalCurrentAssets / totalCurrentLiabilities : 0;\n    const debtToEquity = totalEquity > 0 ? totalDebt / totalEquity * 100 : 0;\n    const netDebtEbitda = ebitda > 0 ? (totalDebt - cash) / ebitda : 0;\n    const interestCoverage = interestExpense > 0 ? operatingIncomeVal / interestExpense : 100;\n    // Revenue growth YoY\n    let revenueGrowth = 0;\n    if (Array.isArray(incomeArr) && incomeArr.length >= 2) {\n        const revCurr = safe(incomeArr[0].revenue);\n        const revPrev = safe(incomeArr[1].revenue);\n        if (revPrev > 0) revenueGrowth = (revCurr - revPrev) / revPrev * 100;\n    }\n    const revenuePerShare = sharesOut > 0 ? totalRevenue / sharesOut : 0;\n    const pegRatio = peRatio && revenueGrowth > 0 ? peRatio / revenueGrowth : null;\n    // Momentum 3 mois\n    const momentum3m = await calculateMomentum(symbol);\n    return {\n        ticker: symbol,\n        name,\n        industry: p.industry || \"Unknown\",\n        sector: p.sector || \"Unknown\",\n        description: p.description || \"\",\n        currency: p.currency || \"USD\",\n        currentPrice: price,\n        marketCap,\n        peRatio,\n        pbRatio,\n        pegRatio,\n        eps,\n        roe,\n        operatingMargin,\n        fcfYield,\n        currentRatio,\n        debtToEquity,\n        netDebtEbitda,\n        interestCoverage,\n        revenueGrowth,\n        revenuePerShare,\n        momentum3m,\n        totalDebt,\n        totalAssets,\n        interestIncome,\n        illiquidAssets,\n        currentAssets: totalCurrentAssets,\n        totalRevenue\n    };\n}\n// ------------------------------------------------------------------\n//  Momentum\n// ------------------------------------------------------------------\nasync function calculateMomentum(symbol, days = 90) {\n    try {\n        const dateTo = new Date().toISOString().split(\"T\")[0];\n        const dateFrom = new Date(Date.now() - days * 86400000).toISOString().split(\"T\")[0];\n        const data = await fmpGet(\"/stable/historical-price-eod/full\", {\n            symbol,\n            from: dateFrom,\n            to: dateTo\n        });\n        const historical = Array.isArray(data) ? data : data?.historical ?? [];\n        if (historical.length < 2) return 0;\n        const first = historical[0];\n        const last = historical[historical.length - 1];\n        const endPrice = first.close ?? first.adjClose ?? 0;\n        const startPrice = last.close ?? last.adjClose ?? 0;\n        return startPrice > 0 ? (endPrice - startPrice) / startPrice * 100 : 0;\n    } catch  {\n        return 0;\n    }\n}\n// ------------------------------------------------------------------\n//  Historique des prix\n// ------------------------------------------------------------------\nasync function fetchPriceHistory(ticker, period = \"1y\") {\n    const periodDays = {\n        \"3mo\": 90,\n        \"6mo\": 180,\n        \"1y\": 365,\n        \"2y\": 730,\n        \"5y\": 1825\n    };\n    const days = periodDays[period] ?? 365;\n    const symbol = ticker.toUpperCase();\n    try {\n        const dateTo = new Date().toISOString().split(\"T\")[0];\n        const dateFrom = new Date(Date.now() - days * 86400000).toISOString().split(\"T\")[0];\n        const data = await fmpGet(\"/stable/historical-price-eod/full\", {\n            symbol,\n            from: dateFrom,\n            to: dateTo\n        });\n        const historical = Array.isArray(data) ? data : data?.historical ?? [];\n        if (!historical.length) return [];\n        // Trier par date croissante\n        const sorted = [\n            ...historical\n        ].sort((a, b)=>new Date(a.date).getTime() - new Date(b.date).getTime());\n        // Calculer MA50\n        const closes = sorted.map((d)=>safe(d.close));\n        const points = sorted.map((d, i)=>{\n            let ma50 = null;\n            if (i >= 49) {\n                const slice = closes.slice(i - 49, i + 1);\n                ma50 = slice.reduce((a, b)=>a + b, 0) / 50;\n            }\n            return {\n                date: d.date,\n                close: safe(d.close),\n                ma50\n            };\n        });\n        return points;\n    } catch  {\n        return [];\n    }\n}\n// ------------------------------------------------------------------\n//  Recherche de symboles\n// ------------------------------------------------------------------\nasync function searchSymbols(query, maxResults = 10) {\n    if (!query || query.length < 1) return [];\n    const data = await fmpGet(\"/stable/search-name\", {\n        query,\n        limit: \"30\"\n    });\n    if (!Array.isArray(data)) return [];\n    const FREE = new Set([\n        \"NASDAQ\",\n        \"NYSE\",\n        \"AMEX\"\n    ]);\n    const results = [];\n    for (const item of data){\n        const symbol = item.symbol || \"\";\n        const name = item.name || symbol;\n        const exchange = item.exchange || \"\";\n        if (!symbol) continue;\n        // Filtrer : uniquement les exchanges US gratuits\n        if (!FREE.has(exchange)) continue;\n        results.push({\n            symbol,\n            name,\n            exchange,\n            currency: item.currency || \"USD\"\n        });\n        if (results.length >= maxResults) break;\n    }\n    return results;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUN2QixPQUFPLE9BQU8sRUFBRTtJQUVuQyxNQUFNNEgsT0FBTyxJQUFJQyxJQUFJO1FBQUM7UUFBVTtRQUFRO0tBQU87SUFDL0MsTUFBTUMsVUFBa0YsRUFBRTtJQUUxRixLQUFLLE1BQU1DLFFBQVEvSCxLQUFNO1FBQ3ZCLE1BQU1XLFNBQVMsS0FBTUEsTUFBTSxJQUFlO1FBQzFDLE1BQU1pQixPQUFPLEtBQU1BLElBQUksSUFBZWpCO1FBQ3RDLE1BQU1xSCxXQUFXLEtBQU1BLFFBQVEsSUFBZTtRQUU5QyxJQUFJLENBQUNySCxRQUFRO1FBRWIsaURBQWlEO1FBQ2pELElBQUksQ0FBQ2lILEtBQUtLLEdBQUcsQ0FBQ0QsV0FBVztRQUV6QkYsUUFBUUksSUFBSSxDQUFDO1lBQUV2SDtZQUFRaUI7WUFBTW9HO1lBQVUxQyxVQUFVLEtBQU1BLFFBQVEsSUFBZTtRQUFNO1FBQ3BGLElBQUl3QyxRQUFRdEcsTUFBTSxJQUFJbUcsWUFBWTtJQUNwQztJQUVBLE9BQU9HO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taXphbi1pbnZlc3RtZW50cy8uL2xpYi9mbXAudHM/MWVmYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEZNUCBDbGllbnQg4oCUIFNlcnZlci1zaWRlIG9ubHkgKEFQSSBrZXkgbmV2ZXIgZXhwb3NlZClcbi8vIE1pcm9pciBkZSBzZXJ2aWNlcy9tYXJrZXRfZGF0YS5weVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmltcG9ydCB7IEZNUF9CQVNFX1VSTCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHR5cGUgeyBTdG9ja0RhdGEsIFByaWNlUG9pbnQgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5jb25zdCBBUElfS0VZID0gcHJvY2Vzcy5lbnYuRk1QX0FQSV9LRVkgPz8gXCJcIjtcblxuYXN5bmMgZnVuY3Rpb24gZm1wR2V0PFQ+KGVuZHBvaW50OiBzdHJpbmcsIHBhcmFtczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9KTogUHJvbWlzZTxUPiB7XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwoYCR7Rk1QX0JBU0VfVVJMfSR7ZW5kcG9pbnR9YCk7XG4gIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwiYXBpa2V5XCIsIEFQSV9LRVkpO1xuICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhwYXJhbXMpKSB7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgdik7XG4gIH1cblxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwudG9TdHJpbmcoKSwgeyBuZXh0OiB7IHJldmFsaWRhdGU6IDMwMCB9IH0pO1xuXG4gIGlmICghcmVzLm9rKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGTVAgJHtyZXMuc3RhdHVzfTogJHtyZXMuc3RhdHVzVGV4dH0g4oCUICR7ZW5kcG9pbnR9YCk7XG4gIH1cblxuICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcblxuICBpZiAoZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBcIkVycm9yIE1lc3NhZ2VcIiBpbiBkYXRhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGRhdGFbXCJFcnJvciBNZXNzYWdlXCJdKTtcbiAgfVxuXG4gIHJldHVybiBkYXRhIGFzIFQ7XG59XG5cbmZ1bmN0aW9uIHNhZmUodmFsdWU6IHVua25vd24sIGZhbGxiYWNrID0gMCk6IG51bWJlciB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsbGJhY2s7XG4gIGNvbnN0IG4gPSBOdW1iZXIodmFsdWUpO1xuICByZXR1cm4gaXNOYU4obikgPyBmYWxsYmFjayA6IG47XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gIFLDqWN1cMOpcmVyIGxlcyBkb25uw6llcyBjb21wbMOodGVzIGQndW5lIGFjdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hTdG9ja0RhdGEodGlja2VyOiBzdHJpbmcpOiBQcm9taXNlPFN0b2NrRGF0YT4ge1xuICBjb25zdCBzeW1ib2wgPSB0aWNrZXIudG9VcHBlckNhc2UoKTtcblxuICAvLyA1IHJlcXXDqnRlcyBwYXJhbGzDqGxlcyAoZW5kcG9pbnRzIGdyYXR1aXRzKVxuICBjb25zdCBbcHJvZmlsZUFyciwgaW5jb21lQXJyLCBiYWxhbmNlQXJyLCBjYXNoZmxvd0Fycl0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgZm1wR2V0PFJlY29yZDxzdHJpbmcsIHVua25vd24+W10+KFwiL3N0YWJsZS9wcm9maWxlXCIsIHsgc3ltYm9sIH0pLFxuICAgIGZtcEdldDxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPltdPihcIi9zdGFibGUvaW5jb21lLXN0YXRlbWVudFwiLCB7XG4gICAgICBzeW1ib2wsXG4gICAgICBwZXJpb2Q6IFwiYW5udWFsXCIsXG4gICAgICBsaW1pdDogXCIyXCIsXG4gICAgfSksXG4gICAgZm1wR2V0PFJlY29yZDxzdHJpbmcsIHVua25vd24+W10+KFwiL3N0YWJsZS9iYWxhbmNlLXNoZWV0LXN0YXRlbWVudFwiLCB7XG4gICAgICBzeW1ib2wsXG4gICAgICBwZXJpb2Q6IFwiYW5udWFsXCIsXG4gICAgICBsaW1pdDogXCIxXCIsXG4gICAgfSksXG4gICAgZm1wR2V0PFJlY29yZDxzdHJpbmcsIHVua25vd24+W10+KFwiL3N0YWJsZS9jYXNoLWZsb3ctc3RhdGVtZW50XCIsIHtcbiAgICAgIHN5bWJvbCxcbiAgICAgIHBlcmlvZDogXCJhbm51YWxcIixcbiAgICAgIGxpbWl0OiBcIjFcIixcbiAgICB9KSxcbiAgXSk7XG5cbiAgY29uc3QgcCA9IEFycmF5LmlzQXJyYXkocHJvZmlsZUFycikgJiYgcHJvZmlsZUFyci5sZW5ndGggPiAwID8gcHJvZmlsZUFyclswXSA6IHt9O1xuICBjb25zdCBpbmNvbWUgPSBBcnJheS5pc0FycmF5KGluY29tZUFycikgJiYgaW5jb21lQXJyLmxlbmd0aCA+IDAgPyBpbmNvbWVBcnJbMF0gOiB7fTtcbiAgY29uc3QgYmFsYW5jZSA9IEFycmF5LmlzQXJyYXkoYmFsYW5jZUFycikgJiYgYmFsYW5jZUFyci5sZW5ndGggPiAwID8gYmFsYW5jZUFyclswXSA6IHt9O1xuICBjb25zdCBjYXNoZmxvdyA9IEFycmF5LmlzQXJyYXkoY2FzaGZsb3dBcnIpICYmIGNhc2hmbG93QXJyLmxlbmd0aCA+IDAgPyBjYXNoZmxvd0FyclswXSA6IHt9O1xuXG4gIGNvbnN0IG5hbWUgPSAocC5jb21wYW55TmFtZSBhcyBzdHJpbmcpIHx8IHN5bWJvbDtcbiAgaWYgKCFuYW1lKSB0aHJvdyBuZXcgRXJyb3IoYE5vIGRhdGEgZm9yICR7c3ltYm9sfWApO1xuXG4gIGxldCBtYXJrZXRDYXAgPSBzYWZlKHAubWFya2V0Q2FwID8/IHAubWt0Q2FwLCAxKTtcbiAgaWYgKG1hcmtldENhcCA8PSAwKSBtYXJrZXRDYXAgPSAxO1xuXG4gIGNvbnN0IHByaWNlID0gc2FmZShwLnByaWNlKTtcbiAgY29uc3Qgc2hhcmVzT3V0ID0gcHJpY2UgPiAwID8gbWFya2V0Q2FwIC8gcHJpY2UgOiAwO1xuXG4gIC8vIEluY29tZSBzdGF0ZW1lbnRcbiAgY29uc3QgdG90YWxSZXZlbnVlID0gc2FmZShpbmNvbWUucmV2ZW51ZSk7XG4gIGNvbnN0IG5ldEluY29tZSA9IHNhZmUoaW5jb21lLm5ldEluY29tZSk7XG4gIGNvbnN0IG9wZXJhdGluZ0luY29tZVZhbCA9IHNhZmUoaW5jb21lLm9wZXJhdGluZ0luY29tZSk7XG4gIGNvbnN0IGViaXRkYSA9IHNhZmUoaW5jb21lLmViaXRkYSk7XG4gIGNvbnN0IGludGVyZXN0RXhwZW5zZSA9IE1hdGguYWJzKHNhZmUoaW5jb21lLmludGVyZXN0RXhwZW5zZSkpO1xuICBjb25zdCBpbnRlcmVzdEluY29tZSA9IHNhZmUoaW5jb21lLmludGVyZXN0SW5jb21lKTtcbiAgY29uc3QgZXBzRnJvbUluY29tZSA9IHNhZmUoaW5jb21lLmVwcyA/PyBpbmNvbWUuZXBzZGlsdXRlZCA/PyBpbmNvbWUuZXBzRGlsdXRlZCk7XG5cbiAgLy8gQmFsYW5jZSBzaGVldFxuICBsZXQgdG90YWxBc3NldHMgPSBzYWZlKGJhbGFuY2UudG90YWxBc3NldHMsIDEpO1xuICBpZiAodG90YWxBc3NldHMgPD0gMCkgdG90YWxBc3NldHMgPSAxO1xuICBjb25zdCB0b3RhbERlYnQgPSBzYWZlKGJhbGFuY2UudG90YWxEZWJ0KTtcbiAgY29uc3QgY2FzaCA9IHNhZmUoYmFsYW5jZS5jYXNoQW5kQ2FzaEVxdWl2YWxlbnRzKTtcbiAgY29uc3QgdG90YWxFcXVpdHkgPSBzYWZlKGJhbGFuY2UudG90YWxTdG9ja2hvbGRlcnNFcXVpdHkpO1xuICBjb25zdCB0b3RhbEN1cnJlbnRBc3NldHMgPSBzYWZlKGJhbGFuY2UudG90YWxDdXJyZW50QXNzZXRzKTtcbiAgY29uc3QgdG90YWxDdXJyZW50TGlhYmlsaXRpZXMgPSBzYWZlKGJhbGFuY2UudG90YWxDdXJyZW50TGlhYmlsaXRpZXMpO1xuXG4gIC8vIElsbGlxdWlkIGFzc2V0c1xuICBjb25zdCBwcGUgPSBzYWZlKGJhbGFuY2UucHJvcGVydHlQbGFudEVxdWlwbWVudE5ldCk7XG4gIGNvbnN0IGdvb2R3aWxsID0gc2FmZShiYWxhbmNlLmdvb2R3aWxsKTtcbiAgY29uc3QgaW50YW5naWJsZXMgPSBzYWZlKGJhbGFuY2UuaW50YW5naWJsZUFzc2V0cyk7XG4gIGNvbnN0IGludmVudG9yeSA9IHNhZmUoYmFsYW5jZS5pbnZlbnRvcnkpO1xuICBsZXQgaWxsaXF1aWRBc3NldHMgPSBwcGUgKyBnb29kd2lsbCArIGludGFuZ2libGVzICsgaW52ZW50b3J5O1xuICBpZiAoaWxsaXF1aWRBc3NldHMgPT09IDAgJiYgdG90YWxDdXJyZW50QXNzZXRzID4gMCkge1xuICAgIGlsbGlxdWlkQXNzZXRzID0gdG90YWxBc3NldHMgLSB0b3RhbEN1cnJlbnRBc3NldHM7XG4gIH1cblxuICAvLyBDYXNoIGZsb3dcbiAgY29uc3QgZmNmID0gc2FmZShjYXNoZmxvdy5mcmVlQ2FzaEZsb3cpO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyAgUkFUSU9TIChjYWxjdWzDqXMgbWFudWVsbGVtZW50IOKAlCBwYXMgZCdlbmRwb2ludHMgcGF5YW50cylcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIGNvbnN0IHBlUmF0aW8gPSBlcHNGcm9tSW5jb21lID4gMCA/IHByaWNlIC8gZXBzRnJvbUluY29tZSA6IG51bGw7XG5cbiAgY29uc3QgYnZwcyA9IHNoYXJlc091dCA+IDAgPyB0b3RhbEVxdWl0eSAvIHNoYXJlc091dCA6IDA7XG4gIGNvbnN0IHBiUmF0aW8gPSBidnBzID4gMCA/IHByaWNlIC8gYnZwcyA6IG51bGw7XG5cbiAgLy8gRVBTOiBwcm9maWwgZCdhYm9yZCwgcHVpcyBpbmNvbWUgc3RhdGVtZW50XG4gIGNvbnN0IGVwc0Zyb21Qcm9maWxlID0gc2FmZShwLmVwcyk7XG4gIGxldCBlcHMgPSBlcHNGcm9tUHJvZmlsZSAhPT0gMCA/IGVwc0Zyb21Qcm9maWxlIDogZXBzRnJvbUluY29tZTtcbiAgaWYgKCFlcHMgJiYgc2hhcmVzT3V0ID4gMCkgZXBzID0gbmV0SW5jb21lIC8gc2hhcmVzT3V0O1xuXG4gIGNvbnN0IHJvZSA9IHRvdGFsRXF1aXR5ID4gMCA/IChuZXRJbmNvbWUgLyB0b3RhbEVxdWl0eSkgKiAxMDAgOiAwO1xuICBjb25zdCBvcGVyYXRpbmdNYXJnaW4gPSB0b3RhbFJldmVudWUgPiAwID8gKG9wZXJhdGluZ0luY29tZVZhbCAvIHRvdGFsUmV2ZW51ZSkgKiAxMDAgOiAwO1xuICBjb25zdCBmY2ZZaWVsZCA9IG1hcmtldENhcCA+IDAgPyAoZmNmIC8gbWFya2V0Q2FwKSAqIDEwMCA6IDA7XG4gIGNvbnN0IGN1cnJlbnRSYXRpbyA9IHRvdGFsQ3VycmVudExpYWJpbGl0aWVzID4gMCA/IHRvdGFsQ3VycmVudEFzc2V0cyAvIHRvdGFsQ3VycmVudExpYWJpbGl0aWVzIDogMDtcbiAgY29uc3QgZGVidFRvRXF1aXR5ID0gdG90YWxFcXVpdHkgPiAwID8gKHRvdGFsRGVidCAvIHRvdGFsRXF1aXR5KSAqIDEwMCA6IDA7XG4gIGNvbnN0IG5ldERlYnRFYml0ZGEgPSBlYml0ZGEgPiAwID8gKHRvdGFsRGVidCAtIGNhc2gpIC8gZWJpdGRhIDogMDtcbiAgY29uc3QgaW50ZXJlc3RDb3ZlcmFnZSA9IGludGVyZXN0RXhwZW5zZSA+IDAgPyBvcGVyYXRpbmdJbmNvbWVWYWwgLyBpbnRlcmVzdEV4cGVuc2UgOiAxMDA7XG5cbiAgLy8gUmV2ZW51ZSBncm93dGggWW9ZXG4gIGxldCByZXZlbnVlR3Jvd3RoID0gMDtcbiAgaWYgKEFycmF5LmlzQXJyYXkoaW5jb21lQXJyKSAmJiBpbmNvbWVBcnIubGVuZ3RoID49IDIpIHtcbiAgICBjb25zdCByZXZDdXJyID0gc2FmZShpbmNvbWVBcnJbMF0ucmV2ZW51ZSk7XG4gICAgY29uc3QgcmV2UHJldiA9IHNhZmUoaW5jb21lQXJyWzFdLnJldmVudWUpO1xuICAgIGlmIChyZXZQcmV2ID4gMCkgcmV2ZW51ZUdyb3d0aCA9ICgocmV2Q3VyciAtIHJldlByZXYpIC8gcmV2UHJldikgKiAxMDA7XG4gIH1cblxuICBjb25zdCByZXZlbnVlUGVyU2hhcmUgPSBzaGFyZXNPdXQgPiAwID8gdG90YWxSZXZlbnVlIC8gc2hhcmVzT3V0IDogMDtcbiAgY29uc3QgcGVnUmF0aW8gPSBwZVJhdGlvICYmIHJldmVudWVHcm93dGggPiAwID8gcGVSYXRpbyAvIHJldmVudWVHcm93dGggOiBudWxsO1xuXG4gIC8vIE1vbWVudHVtIDMgbW9pc1xuICBjb25zdCBtb21lbnR1bTNtID0gYXdhaXQgY2FsY3VsYXRlTW9tZW50dW0oc3ltYm9sKTtcblxuICByZXR1cm4ge1xuICAgIHRpY2tlcjogc3ltYm9sLFxuICAgIG5hbWUsXG4gICAgaW5kdXN0cnk6IChwLmluZHVzdHJ5IGFzIHN0cmluZykgfHwgXCJVbmtub3duXCIsXG4gICAgc2VjdG9yOiAocC5zZWN0b3IgYXMgc3RyaW5nKSB8fCBcIlVua25vd25cIixcbiAgICBkZXNjcmlwdGlvbjogKHAuZGVzY3JpcHRpb24gYXMgc3RyaW5nKSB8fCBcIlwiLFxuICAgIGN1cnJlbmN5OiAocC5jdXJyZW5jeSBhcyBzdHJpbmcpIHx8IFwiVVNEXCIsXG4gICAgY3VycmVudFByaWNlOiBwcmljZSxcbiAgICBtYXJrZXRDYXAsXG4gICAgcGVSYXRpbyxcbiAgICBwYlJhdGlvLFxuICAgIHBlZ1JhdGlvLFxuICAgIGVwcyxcbiAgICByb2UsXG4gICAgb3BlcmF0aW5nTWFyZ2luLFxuICAgIGZjZllpZWxkLFxuICAgIGN1cnJlbnRSYXRpbyxcbiAgICBkZWJ0VG9FcXVpdHksXG4gICAgbmV0RGVidEViaXRkYSxcbiAgICBpbnRlcmVzdENvdmVyYWdlLFxuICAgIHJldmVudWVHcm93dGgsXG4gICAgcmV2ZW51ZVBlclNoYXJlLFxuICAgIG1vbWVudHVtM20sXG4gICAgdG90YWxEZWJ0LFxuICAgIHRvdGFsQXNzZXRzLFxuICAgIGludGVyZXN0SW5jb21lLFxuICAgIGlsbGlxdWlkQXNzZXRzLFxuICAgIGN1cnJlbnRBc3NldHM6IHRvdGFsQ3VycmVudEFzc2V0cyxcbiAgICB0b3RhbFJldmVudWUsXG4gIH07XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gIE1vbWVudHVtXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmFzeW5jIGZ1bmN0aW9uIGNhbGN1bGF0ZU1vbWVudHVtKHN5bWJvbDogc3RyaW5nLCBkYXlzID0gOTApOiBQcm9taXNlPG51bWJlcj4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGVUbyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG4gICAgY29uc3QgZGF0ZUZyb20gPSBuZXcgRGF0ZShEYXRlLm5vdygpIC0gZGF5cyAqIDg2NDAwMDAwKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmbXBHZXQ8dW5rbm93bj4oXCIvc3RhYmxlL2hpc3RvcmljYWwtcHJpY2UtZW9kL2Z1bGxcIiwge1xuICAgICAgc3ltYm9sLFxuICAgICAgZnJvbTogZGF0ZUZyb20sXG4gICAgICB0bzogZGF0ZVRvLFxuICAgIH0pO1xuXG4gICAgY29uc3QgaGlzdG9yaWNhbCA9IEFycmF5LmlzQXJyYXkoZGF0YSlcbiAgICAgID8gZGF0YVxuICAgICAgOiAoZGF0YSBhcyB7IGhpc3RvcmljYWw/OiB1bmtub3duW10gfSk/Lmhpc3RvcmljYWwgPz8gW107XG5cbiAgICBpZiAoaGlzdG9yaWNhbC5sZW5ndGggPCAyKSByZXR1cm4gMDtcblxuICAgIGNvbnN0IGZpcnN0ID0gaGlzdG9yaWNhbFswXSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgIGNvbnN0IGxhc3QgPSBoaXN0b3JpY2FsW2hpc3RvcmljYWwubGVuZ3RoIC0gMV0gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgICBjb25zdCBlbmRQcmljZSA9IGZpcnN0LmNsb3NlID8/IGZpcnN0LmFkakNsb3NlID8/IDA7XG4gICAgY29uc3Qgc3RhcnRQcmljZSA9IGxhc3QuY2xvc2UgPz8gbGFzdC5hZGpDbG9zZSA/PyAwO1xuXG4gICAgcmV0dXJuIHN0YXJ0UHJpY2UgPiAwID8gKChlbmRQcmljZSAtIHN0YXJ0UHJpY2UpIC8gc3RhcnRQcmljZSkgKiAxMDAgOiAwO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vICBIaXN0b3JpcXVlIGRlcyBwcml4XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFByaWNlSGlzdG9yeShcbiAgdGlja2VyOiBzdHJpbmcsXG4gIHBlcmlvZCA9IFwiMXlcIlxuKTogUHJvbWlzZTxQcmljZVBvaW50W10+IHtcbiAgY29uc3QgcGVyaW9kRGF5czogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcbiAgICBcIjNtb1wiOiA5MCxcbiAgICBcIjZtb1wiOiAxODAsXG4gICAgXCIxeVwiOiAzNjUsXG4gICAgXCIyeVwiOiA3MzAsXG4gICAgXCI1eVwiOiAxODI1LFxuICB9O1xuICBjb25zdCBkYXlzID0gcGVyaW9kRGF5c1twZXJpb2RdID8/IDM2NTtcbiAgY29uc3Qgc3ltYm9sID0gdGlja2VyLnRvVXBwZXJDYXNlKCk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRlVG8gPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdO1xuICAgIGNvbnN0IGRhdGVGcm9tID0gbmV3IERhdGUoRGF0ZS5ub3coKSAtIGRheXMgKiA4NjQwMDAwMCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZm1wR2V0PHVua25vd24+KFwiL3N0YWJsZS9oaXN0b3JpY2FsLXByaWNlLWVvZC9mdWxsXCIsIHtcbiAgICAgIHN5bWJvbCxcbiAgICAgIGZyb206IGRhdGVGcm9tLFxuICAgICAgdG86IGRhdGVUbyxcbiAgICB9KTtcblxuICAgIGNvbnN0IGhpc3RvcmljYWwgPSBBcnJheS5pc0FycmF5KGRhdGEpXG4gICAgICA/IGRhdGFcbiAgICAgIDogKGRhdGEgYXMgeyBoaXN0b3JpY2FsPzogdW5rbm93bltdIH0pPy5oaXN0b3JpY2FsID8/IFtdO1xuXG4gICAgaWYgKCFoaXN0b3JpY2FsLmxlbmd0aCkgcmV0dXJuIFtdO1xuXG4gICAgLy8gVHJpZXIgcGFyIGRhdGUgY3JvaXNzYW50ZVxuICAgIGNvbnN0IHNvcnRlZCA9IFsuLi4oaGlzdG9yaWNhbCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPltdKV0uc29ydChcbiAgICAgIChhLCBiKSA9PiBuZXcgRGF0ZShhLmRhdGUgYXMgc3RyaW5nKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLmRhdGUgYXMgc3RyaW5nKS5nZXRUaW1lKClcbiAgICApO1xuXG4gICAgLy8gQ2FsY3VsZXIgTUE1MFxuICAgIGNvbnN0IGNsb3NlcyA9IHNvcnRlZC5tYXAoKGQpID0+IHNhZmUoZC5jbG9zZSkpO1xuICAgIGNvbnN0IHBvaW50czogUHJpY2VQb2ludFtdID0gc29ydGVkLm1hcCgoZCwgaSkgPT4ge1xuICAgICAgbGV0IG1hNTA6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgICAgaWYgKGkgPj0gNDkpIHtcbiAgICAgICAgY29uc3Qgc2xpY2UgPSBjbG9zZXMuc2xpY2UoaSAtIDQ5LCBpICsgMSk7XG4gICAgICAgIG1hNTAgPSBzbGljZS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIDUwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0ZTogZC5kYXRlIGFzIHN0cmluZyxcbiAgICAgICAgY2xvc2U6IHNhZmUoZC5jbG9zZSksXG4gICAgICAgIG1hNTAsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHBvaW50cztcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gIFJlY2hlcmNoZSBkZSBzeW1ib2xlc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoU3ltYm9scyhxdWVyeTogc3RyaW5nLCBtYXhSZXN1bHRzID0gMTApIHtcbiAgaWYgKCFxdWVyeSB8fCBxdWVyeS5sZW5ndGggPCAxKSByZXR1cm4gW107XG5cbiAgY29uc3QgZGF0YSA9IGF3YWl0IGZtcEdldDxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPltdPihcIi9zdGFibGUvc2VhcmNoLW5hbWVcIiwge1xuICAgIHF1ZXJ5LFxuICAgIGxpbWl0OiBcIjMwXCIsXG4gIH0pO1xuXG4gIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkgcmV0dXJuIFtdO1xuXG4gIGNvbnN0IEZSRUUgPSBuZXcgU2V0KFtcIk5BU0RBUVwiLCBcIk5ZU0VcIiwgXCJBTUVYXCJdKTtcbiAgY29uc3QgcmVzdWx0czogeyBzeW1ib2w6IHN0cmluZzsgbmFtZTogc3RyaW5nOyBleGNoYW5nZTogc3RyaW5nOyBjdXJyZW5jeTogc3RyaW5nIH1bXSA9IFtdO1xuXG4gIGZvciAoY29uc3QgaXRlbSBvZiBkYXRhKSB7XG4gICAgY29uc3Qgc3ltYm9sID0gKGl0ZW0uc3ltYm9sIGFzIHN0cmluZykgfHwgXCJcIjtcbiAgICBjb25zdCBuYW1lID0gKGl0ZW0ubmFtZSBhcyBzdHJpbmcpIHx8IHN5bWJvbDtcbiAgICBjb25zdCBleGNoYW5nZSA9IChpdGVtLmV4Y2hhbmdlIGFzIHN0cmluZykgfHwgXCJcIjtcblxuICAgIGlmICghc3ltYm9sKSBjb250aW51ZTtcblxuICAgIC8vIEZpbHRyZXIgOiB1bmlxdWVtZW50IGxlcyBleGNoYW5nZXMgVVMgZ3JhdHVpdHNcbiAgICBpZiAoIUZSRUUuaGFzKGV4Y2hhbmdlKSkgY29udGludWU7XG5cbiAgICByZXN1bHRzLnB1c2goeyBzeW1ib2wsIG5hbWUsIGV4Y2hhbmdlLCBjdXJyZW5jeTogKGl0ZW0uY3VycmVuY3kgYXMgc3RyaW5nKSB8fCBcIlVTRFwiIH0pO1xuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+PSBtYXhSZXN1bHRzKSBicmVhaztcbiAgfVxuXG4gIHJldHVybiByZXN1bHRzO1xufSJdLCJuYW1lcyI6WyJGTVBfQkFTRV9VUkwiLCJBUElfS0VZIiwicHJvY2VzcyIsImVudiIsIkZNUF9BUElfS0VZIiwiZm1wR2V0IiwiZW5kcG9pbnQiLCJwYXJhbXMiLCJ1cmwiLCJVUkwiLCJzZWFyY2hQYXJhbXMiLCJzZXQiLCJrIiwidiIsIk9iamVjdCIsImVudHJpZXMiLCJyZXMiLCJmZXRjaCIsInRvU3RyaW5nIiwibmV4dCIsInJldmFsaWRhdGUiLCJvayIsIkVycm9yIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImRhdGEiLCJqc29uIiwic2FmZSIsInZhbHVlIiwiZmFsbGJhY2siLCJ1bmRlZmluZWQiLCJuIiwiTnVtYmVyIiwiaXNOYU4iLCJmZXRjaFN0b2NrRGF0YSIsInRpY2tlciIsInN5bWJvbCIsInRvVXBwZXJDYXNlIiwicHJvZmlsZUFyciIsImluY29tZUFyciIsImJhbGFuY2VBcnIiLCJjYXNoZmxvd0FyciIsIlByb21pc2UiLCJhbGwiLCJwZXJpb2QiLCJsaW1pdCIsInAiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJpbmNvbWUiLCJiYWxhbmNlIiwiY2FzaGZsb3ciLCJuYW1lIiwiY29tcGFueU5hbWUiLCJtYXJrZXRDYXAiLCJta3RDYXAiLCJwcmljZSIsInNoYXJlc091dCIsInRvdGFsUmV2ZW51ZSIsInJldmVudWUiLCJuZXRJbmNvbWUiLCJvcGVyYXRpbmdJbmNvbWVWYWwiLCJvcGVyYXRpbmdJbmNvbWUiLCJlYml0ZGEiLCJpbnRlcmVzdEV4cGVuc2UiLCJNYXRoIiwiYWJzIiwiaW50ZXJlc3RJbmNvbWUiLCJlcHNGcm9tSW5jb21lIiwiZXBzIiwiZXBzZGlsdXRlZCIsImVwc0RpbHV0ZWQiLCJ0b3RhbEFzc2V0cyIsInRvdGFsRGVidCIsImNhc2giLCJjYXNoQW5kQ2FzaEVxdWl2YWxlbnRzIiwidG90YWxFcXVpdHkiLCJ0b3RhbFN0b2NraG9sZGVyc0VxdWl0eSIsInRvdGFsQ3VycmVudEFzc2V0cyIsInRvdGFsQ3VycmVudExpYWJpbGl0aWVzIiwicHBlIiwicHJvcGVydHlQbGFudEVxdWlwbWVudE5ldCIsImdvb2R3aWxsIiwiaW50YW5naWJsZXMiLCJpbnRhbmdpYmxlQXNzZXRzIiwiaW52ZW50b3J5IiwiaWxsaXF1aWRBc3NldHMiLCJmY2YiLCJmcmVlQ2FzaEZsb3ciLCJwZVJhdGlvIiwiYnZwcyIsInBiUmF0aW8iLCJlcHNGcm9tUHJvZmlsZSIsInJvZSIsIm9wZXJhdGluZ01hcmdpbiIsImZjZllpZWxkIiwiY3VycmVudFJhdGlvIiwiZGVidFRvRXF1aXR5IiwibmV0RGVidEViaXRkYSIsImludGVyZXN0Q292ZXJhZ2UiLCJyZXZlbnVlR3Jvd3RoIiwicmV2Q3VyciIsInJldlByZXYiLCJyZXZlbnVlUGVyU2hhcmUiLCJwZWdSYXRpbyIsIm1vbWVudHVtM20iLCJjYWxjdWxhdGVNb21lbnR1bSIsImluZHVzdHJ5Iiwic2VjdG9yIiwiZGVzY3JpcHRpb24iLCJjdXJyZW5jeSIsImN1cnJlbnRQcmljZSIsImN1cnJlbnRBc3NldHMiLCJkYXlzIiwiZGF0ZVRvIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJkYXRlRnJvbSIsIm5vdyIsImZyb20iLCJ0byIsImhpc3RvcmljYWwiLCJmaXJzdCIsImxhc3QiLCJlbmRQcmljZSIsImNsb3NlIiwiYWRqQ2xvc2UiLCJzdGFydFByaWNlIiwiZmV0Y2hQcmljZUhpc3RvcnkiLCJwZXJpb2REYXlzIiwic29ydGVkIiwic29ydCIsImEiLCJiIiwiZGF0ZSIsImdldFRpbWUiLCJjbG9zZXMiLCJtYXAiLCJkIiwicG9pbnRzIiwiaSIsIm1hNTAiLCJzbGljZSIsInJlZHVjZSIsInNlYXJjaFN5bWJvbHMiLCJxdWVyeSIsIm1heFJlc3VsdHMiLCJGUkVFIiwiU2V0IiwicmVzdWx0cyIsIml0ZW0iLCJleGNoYW5nZSIsImhhcyIsInB1c2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/fmp.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cahmed%5CDesktop%5CSide%20Projects%5CInvestments%5CMizan%20Inv%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cahmed%5CDesktop%5CSide%20Projects%5CInvestments%5CMizan%20Inv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();